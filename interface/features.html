<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Recommender API - Interface</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/features.css">
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.8.2/core.css">
    <script type="module" src="https://pyscript.net/releases/2024.8.2/core.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script defer type="py" src="./assets/python/features.py" config="./assets/python/pyscript.json"></script>
    <style>
        </style>
</head>

<body>
    <header>
        <h1>Spotify Recommender API</h1>
    </header>

    <!-- Loading modal -->
    <div class="loading-modal" id="loading-modal">
        <div class="loading-content">
            <img src="https://media.giphy.com/media/3o7buik2sgS2GrmBFm/giphy.gif" alt="Loading..." width="80">
            <div>Loading features, please wait...</div>
        </div>
    </div>

    <!-- Main content -->
    <div class="description">
        <p>Explore music recommendations tailored just for you. Choose one of the options below to get started!</p>
    </div>
    <div class="container" id="container-profile">
        <div class="title">Profile Features</div>
        <div class="row">
            <button class="button" onclick="openModal('modal-most-listened')">
                <i class="fa fa-music"></i>
                <span>Most Listened Tracks</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for tracks you listen to the most.</div>
            </button>
            <button class="button" onclick="openModal('modal-recently-played')">
                <i class="fa fa-star"></i>
                <span>Recently Played Tracks</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for recently played tracks.</div>
            </button>
            <button class="button" onclick="openModal('modal-recently-played-recommendations')">
                <i class="fa fa-calendar-week"></i>
                <span>Recently Played Based Recommendations</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure recommendations based on recently played tracks.</div>
            </button>
        </div>
        <div class="section-divider"></div>
        <div class="row">
            <button class="button" onclick="openModal('modal-profile-recommendation')">
                <i class="fa fa-calendar-day"></i>
                <span>Profile Recommendation</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for profile-based recommendations.</div>
            </button>
            <button class="button" onclick="openModal('modal-general-recommendation')">
                <i class="fa fa-calendar-day"></i>
                <span>General Recommendation</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure general music recommendations.</div>
            </button>
        </div>
        <div class="section-divider"></div>
    </div>
    <div class="container" id="container-playlist">
        <div class="title">Playlist Related Features</div>
        <div class="row">
            <button class="button" onclick="openModal('modal-save-playlist')">
                <i class="fa fa-headphones"></i>
                <span>Save Playlist Locally</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings to save playlists locally.</div>
            </button>
            <button class="button" onclick="openModal('modal-song-based-recommendation')">
                <i class="fa fa-microphone"></i>
                <span>Song-based Recommendation</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for song-based recommendations.</div>
            </button>
            <button class="button" onclick="openModal('modal-most-frequent-artists')">
                <i class="fa fa-guitar"></i>
                <span>Most Frequent Artists</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for most frequent artists.</div>
            </button>
        </div>
        <div class="section-divider"></div>
        <div class="row">
            <button class="button" onclick="openModal('modal-most-frequent-genres')">
                <i class="fa fa-smile"></i>
                <span>Most Frequent Genres</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for most frequent genres.</div>
            </button>
            <button class="button" onclick="openModal('modal-artist-only')">
                <i class="fa fa-dumbbell"></i>
                <span>Artist Only</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for artist-only recommendations.</div>
            </button>
            <button class="button" onclick="openModal('modal-artist-mix')">
                <i class="fa fa-party"></i>
                <span>Artist Mix</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for artist mix recommendations.</div>
            </button>
        </div>
        <div class="section-divider"></div>
        <div class="row">
            <button class="button" onclick="openModal('modal-playlist-audio-features-extraordinary')">
                <i class="fa fa-smile"></i>
                <span>Playlist Audio Features Extraordinary Songs</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for extraordinary songs in playlists.</div>
            </button>
            <button class="button" onclick="openModal('modal-playlist-audio-features-statistics')">
                <i class="fa fa-dumbbell"></i>
                <span>Playlist Audio Features Statistics</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for audio features statistics of playlists.</div>
            </button>
            <button class="button" onclick="openModal('modal-playlist-based-recommendation')">
                <i class="fa fa-party"></i>
                <span>Playlist-based Recommendation</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for recommendations based on playlists.</div>
            </button>
        </div>
        <div class="section-divider"></div>
        <div class="row">
            <button class="button" onclick="openModal('modal-mood-based-recommendations')">
                <i class="fa fa-smile"></i>
                <span>Mood-based Recommendations</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for mood-based recommendations.</div>
            </button>
            <button class="button" onclick="openModal('modal-most-listened-based-recommendations')">
                <i class="fa fa-dumbbell"></i>
                <span>Most Listened based Recommendations</span>
                <i class="fa fa-info-circle info-icon"></i>
                <div class="info-popup">Configure settings for recommendations based on most listened tracks.</div>
            </button>
        </div>
        <div class="section-divider"></div>
    </div>
    <div class="container" id="container-library">
        <div class="title">User Library Features</div>
        <button class="button" onclick="openModal('modal-update-generated-playlists')">
            <i class="fa fa-smile"></i>
            <span>Update Generated Playlists</span>
            <i class="fa fa-info-circle info-icon"></i>
            <div class="info-popup">Configure settings to update generated playlists.</div>
        </button>
    </div>

    <!-- Modals -->
    <div class="modal" id="modal-most-listened">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-most-listened')">&times;</span>
            <h2>Most Listened Tracks</h2>
            <p>Configure the following parameters to get the most listened-to songs given a time range.</p>
            <label for="time-range-most-listened">Time Range: </label>
            <select class="styled-select" id="time-range-most-listened">
                <option value="short_term">Short Term</option>
                <option value="medium_term">Medium Term</option>
                <option value="long_term">Long Term</option>
            </select>
            <br>
            <label for="number-of-songs-most-listened">Number of Songs: </label>
            <input type="number" class="styled-input" placeholder="Enter a number" id="number-of-songs-most-listened">
            <label class="styled-checkbox" for="checkbox-most-listened">
                <input type="checkbox" id="checkbox-most-listened">
                <span class="checkmark"></span>
                Create Playlist of Results
            </label>
            <button type="button" class="button styled-button" py-click="get_most_listened">Submit</button>
        </div>
    </div>

    <div class="modal" id="modal-recently-played">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-recently-played')">&times;</span>
            <h2>Recently Played Tracks</h2>
            <p>Configure the following parameters to get the last songs played in the given a time range.</p>
            <label for="time-range-recently-played">Time Range: </label>
            <select class="styled-select" id="time-range-recently-played">
                <option value="last-30-minutes">Last 30 minutes</option>
                <option value="last-hour">Last hour</option>
                <option value="last-3-hours">Last 3 hours</option>
                <option value="last-6-hours">Last 6 hours</option>
                <option value="last-12-hours">Last 12 hours</option>
                <option value="last-day">Last day</option>
                <option value="last-3-days">Last 3 days</option>
                <option value="last-week">Last week</option>
                <option value="last-2-weeks">Last 2 weeks</option>
                <option value="last-month">Last month</option>
                <option value="last-3-months">Last 3 months</option>
                <option value="last-6-months">Last 6 months</option>
                <option value="last-year">Last year</option>
            </select>
            <br>
            <label for="number-of-songs-recently-played">Number of Songs: </label>
            <input type="number" class="styled-input" placeholder="Enter a number" id="number-of-songs-recently-played">
            <label class="styled-checkbox" for="checkbox-recently-played">
                <input type="checkbox" id="checkbox-recently-played">
                <span class="checkmark"></span>
                Create Playlist of Results
            </label>
            <button type="button" class="button styled-button" py-click="get_recently_played">Submit</button>
        </div>
    </div>

    <div class="modal" id="modal-recently-played-recommendations">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-recently-played-recommendations')">&times;</span>
            <h2>Recently Played Based Recommendations</h2>
            <p>Configure the following parameters to get recommendations based on the last songs played in the given a time range.</p>
            <label for="time-range-recently-played-recommendations">Time Range: </label>
            <select class="styled-select" id="time-range-recently-played-recommendations">
                <option value="last-30-minutes">Last 30 minutes</option>
                <option value="last-hour">Last hour</option>
                <option value="last-3-hours">Last 3 hours</option>
                <option value="last-6-hours">Last 6 hours</option>
                <option value="last-12-hours">Last 12 hours</option>
                <option value="last-day">Last day</option>
                <option value="last-3-days">Last 3 days</option>
                <option value="last-week">Last week</option>
                <option value="last-2-weeks">Last 2 weeks</option>
                <option value="last-month">Last month</option>
                <option value="last-3-months">Last 3 months</option>
                <option value="last-6-months">Last 6 months</option>
                <option value="last-year">Last year</option>
            </select>
            <br>
            <label for="main-criteria-recently-played-recommendations">Main criteria: </label>
            <select class="styled-select" id="main-criteria-recently-played-recommendations">
                <option value="mixed">Mixed</option>
                <option value="genres">Genres</option>
                <option value="artists">Artists</option>
            </select>
            <br>
            <label for="number-of-songs-recently-played-recommendations">Number of Songs: </label>
            <input type="number" class="styled-input" placeholder="Enter a number" id="number-of-songs-recently-played-recommendations">
            <label class="styled-checkbox" for="checkbox-recently-played-recommendations">
                <input type="checkbox" id="checkbox-recently-played-recommendations">
                <span class="checkmark"></span>
                Create Playlist of Results
            </label>
            <button type="button" class="button styled-button" py-click="get_recently_played_recommendations">Submit</button>
        </div>
    </div>

    <div class="modal" id="modal-profile-recommendation">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-profile-recommendation')">&times;</span>
            <h2>Profile Recommendation</h2>
            <p>Configure the following parameters to get recommendations based on the last songs played in the given a time range.</p>
            <label for="time-range-profile-recommendation">Time Range: </label>
            <select class="styled-select" id="time-range-profile-recommendation">
                <option value="short_term">Short Term</option>
                <option value="medium_term">Medium Term</option>
                <option value="long_term">Long Term</option>
            </select>
            <br>
            <label for="main-criteria-profile-recommendation">Main criteria: </label>
            <select class="styled-select" id="main-criteria-profile-recommendation">
                <option value="mixed">Mixed</option>
                <option value="genres">Genres</option>
                <option value="tracks">Tracks</option>
                <option value="artists">Artists</option>
            </select>
            <br>
            <label for="number-of-songs-profile-recommendation">Number of Songs: </label>
            <input type="number" class="styled-input" placeholder="Enter a number" id="number-of-songs-profile-recommendation">
            <label class="styled-checkbox" for="checkbox-profile-recommendation">
                <input type="checkbox" id="checkbox-profile-recommendation">
                <span class="checkmark"></span>
                Create Playlist of Results
            </label>
            <button type="button" class="button styled-button" py-click="get_profile_recommendation">Submit</button>
        </div>
    </div>

    <div class="modal" id="modal-general-recommendation">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-general-recommendation')">&times;</span>
            <h2>General Recommendation</h2>
            <p>Configure general music recommendations.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-save-playlist">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-save-playlist')">&times;</span>
            <h2>Save Playlist Locally</h2>
            <p>Configure settings to save playlists locally.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-song-based-recommendation">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-song-based-recommendation')">&times;</span>
            <h2>Song-based Recommendation</h2>
            <p>Configure settings for song-based recommendations.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-most-frequent-artists">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-most-frequent-artists')">&times;</span>
            <h2>Most Frequent Artists</h2>
            <p>Configure settings for most frequent artists.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-most-frequent-genres">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-most-frequent-genres')">&times;</span>
            <h2>Most Frequent Genres</h2>
            <p>Configure settings for most frequent genres.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-artist-only">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-artist-only')">&times;</span>
            <h2>Artist Only</h2>
            <p>Configure settings for artist-only recommendations.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-artist-mix">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-artist-mix')">&times;</span>
            <h2>Artist Mix</h2>
            <p>Configure settings for artist mix recommendations.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-playlist-audio-features-extraordinary">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-playlist-audio-features-extraordinary')">&times;</span>
            <h2>Playlist Audio Features Extraordinary Songs</h2>
            <p>Configure settings for extraordinary songs in playlists.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-playlist-audio-features-statistics">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-playlist-audio-features-statistics')">&times;</span>
            <h2>Playlist Audio Features Statistics</h2>
            <p>Configure settings for audio features statistics of playlists.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-playlist-based-recommendation">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-playlist-based-recommendation')">&times;</span>
            <h2>Playlist-based Recommendation</h2>
            <p>Configure settings for recommendations based on playlists.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-mood-based-recommendations">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-mood-based-recommendations')">&times;</span>
            <h2>Mood-based Recommendations</h2>
            <p>Configure settings for mood-based recommendations.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-most-listened-based-recommendations">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-most-listened-based-recommendations')">&times;</span>
            <h2>Most Listened based Recommendations</h2>
            <p>Configure settings for recommendations based on most listened tracks.</p>
            <!-- Add form or options for configuration here -->
        </div>
    </div>

    <div class="modal" id="modal-update-generated-playlists">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-update-generated-playlists')">&times;</span>
            <h2>Update Generated Playlists</h2>
            <p>Configure settings to update generated playlists.</p>
            <!-- Add form or options for configuration here -->
        </div>
        <!-- ! FAZER METODO NA LIB QUE RETORNA UMA LISTA DE DICTS COM A FUNÇÃO A SER CHAMADA, E OS PARAMETROS PARA ASSIM TER O CONTROLE DAS CHAMADAS NO FRONT -->
    </div>

    <script>
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        window.onclick = function (event) {
            if (event.target.classList.contains('modal')) {
                closeModal(event.target.id);
            }
        }
    </script>
</body>

</html>